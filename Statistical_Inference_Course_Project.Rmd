---
title: "Simulation of CLT with Sample Means from Distribution of Exponential Distribution"
output: html_document
date: "2023-10-22"
author: "by KSW"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r, echo=FALSE}
library(ggplot2)
library(gridExtra)
```


## Overview
Central Limit Theorem(also as known as CLT) states that the distribution of sample means approximates a normal distribution (i.e., a “bell curve”) as the sample size becomes larger, regardless of the population's actual distribution shape. In this report, we will explore how the theorem appears in real life by simulating the samples from Exponential Distribution. Exponential Distribution is shown as follows. We set the lambda to '0.2'.

```{r, echo=FALSE}
ggplot(data.frame(x=c(0,100)), aes(x=x)) +
  stat_function(fun=dexp, args=list(rate=0.2), colour="brown", linewidth =1.5) +
  ggtitle("Exponential Distribution") +
  theme(plot.title = element_text(hjust = 0.5))
```

## Simulations
So, let's make samples for our simulation! we will make a thousand of samples of size 40. And calculate 1000 sample means. With this, we will look at the mean, variance of the distribution and distribution itself in comparison to the theoretical(CLT) counterpart of them. Let's start!

```{r}
n=40
B=1000

set.seed(123)
randomexp <- rexp(n*B, rate = 0.2)
samples40 <- matrix(randomexp, nrow=B, ncol = n)
```
In the above code, we set seed and make a thousand of samples of size 40 each. Here are a few example of our samples. Each row is equivalent to one sample.
```{r}
head(samples40)
```

Now we will calculate means of each to make 1000 sample means. 

```{r}
samplemeans <- apply(samples40, MARGIN = 1, mean)
```
And here are also several sample of our sample means.

```{r}
head(samplemeans)
```

Let's calculate mean and variance of our distribution!
```{r}
sammean <- mean(samplemeans)
samvar <- var(samplemeans)
```

Mean and variance of our sample means distribution is `r sammean` and `r samvar` each.


## Sample Mean versus Theoretical Mean:
So, let's compare our simulated mean to the mean that CLT states. Theoretically, CLT states that as the sample size becomes larger, the mean of sample means approximates a population mean. Since the mean of Exponential Distribution(population distribution) is '1/lambda' and we set lambda to 0.2, the population mean is 1/0.2 = 5. So our mean of sample means has to approximate 5. Previously we confirm that mean value is `r sammean`. It is pretty close!

And Let's check it visually. We will plot the distribution of sample means with the theoretical distribution that it has to follow together. Look at how similar those two distribution are.



## Sample Variance versus Theoretical Variance


## Distribution
